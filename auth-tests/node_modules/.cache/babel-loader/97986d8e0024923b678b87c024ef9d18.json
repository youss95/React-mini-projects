{"ast":null,"code":"import { DEFAULT_NAMESPACE, ACTION_TYPE_DELIMITER } from '../constants';\nimport ownKeys from './ownKeys';\nimport get from './get';\nexport default (function (predicate) {\n  return function flatten(map, _temp, partialFlatMap, partialFlatActionType) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        _ref$namespace = _ref.namespace,\n        namespace = _ref$namespace === void 0 ? DEFAULT_NAMESPACE : _ref$namespace,\n        prefix = _ref.prefix;\n\n    if (partialFlatMap === void 0) {\n      partialFlatMap = {};\n    }\n\n    if (partialFlatActionType === void 0) {\n      partialFlatActionType = '';\n    }\n\n    function connectNamespace(type) {\n      var _ref2;\n\n      if (!partialFlatActionType) return type;\n      var types = type.toString().split(ACTION_TYPE_DELIMITER);\n      var partials = partialFlatActionType.split(ACTION_TYPE_DELIMITER);\n      return (_ref2 = []).concat.apply(_ref2, partials.map(function (p) {\n        return types.map(function (t) {\n          return \"\" + p + namespace + t;\n        });\n      })).join(ACTION_TYPE_DELIMITER);\n    }\n\n    function connectPrefix(type) {\n      if (partialFlatActionType || !prefix || prefix && new RegExp(\"^\" + prefix + namespace).test(type)) {\n        return type;\n      }\n\n      return \"\" + prefix + namespace + type;\n    }\n\n    ownKeys(map).forEach(function (type) {\n      var nextNamespace = connectPrefix(connectNamespace(type));\n      var mapValue = get(type, map);\n\n      if (predicate(mapValue)) {\n        flatten(mapValue, {\n          namespace: namespace,\n          prefix: prefix\n        }, partialFlatMap, nextNamespace);\n      } else {\n        partialFlatMap[nextNamespace] = mapValue;\n      }\n    });\n    return partialFlatMap;\n  };\n});","map":{"version":3,"names":["DEFAULT_NAMESPACE","ACTION_TYPE_DELIMITER","ownKeys","get","predicate","flatten","map","_temp","partialFlatMap","partialFlatActionType","_ref","_ref$namespace","namespace","prefix","connectNamespace","type","_ref2","types","toString","split","partials","concat","apply","p","t","join","connectPrefix","RegExp","test","forEach","nextNamespace","mapValue"],"sources":["/Users/sayongkim/Documents/react-projects/auth-tests/node_modules/redux-actions/es/utils/flattenWhenNode.js"],"sourcesContent":["import { DEFAULT_NAMESPACE, ACTION_TYPE_DELIMITER } from '../constants';\nimport ownKeys from './ownKeys';\nimport get from './get';\nexport default (function (predicate) {\n  return function flatten(map, _temp, partialFlatMap, partialFlatActionType) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        _ref$namespace = _ref.namespace,\n        namespace = _ref$namespace === void 0 ? DEFAULT_NAMESPACE : _ref$namespace,\n        prefix = _ref.prefix;\n\n    if (partialFlatMap === void 0) {\n      partialFlatMap = {};\n    }\n\n    if (partialFlatActionType === void 0) {\n      partialFlatActionType = '';\n    }\n\n    function connectNamespace(type) {\n      var _ref2;\n\n      if (!partialFlatActionType) return type;\n      var types = type.toString().split(ACTION_TYPE_DELIMITER);\n      var partials = partialFlatActionType.split(ACTION_TYPE_DELIMITER);\n      return (_ref2 = []).concat.apply(_ref2, partials.map(function (p) {\n        return types.map(function (t) {\n          return \"\" + p + namespace + t;\n        });\n      })).join(ACTION_TYPE_DELIMITER);\n    }\n\n    function connectPrefix(type) {\n      if (partialFlatActionType || !prefix || prefix && new RegExp(\"^\" + prefix + namespace).test(type)) {\n        return type;\n      }\n\n      return \"\" + prefix + namespace + type;\n    }\n\n    ownKeys(map).forEach(function (type) {\n      var nextNamespace = connectPrefix(connectNamespace(type));\n      var mapValue = get(type, map);\n\n      if (predicate(mapValue)) {\n        flatten(mapValue, {\n          namespace: namespace,\n          prefix: prefix\n        }, partialFlatMap, nextNamespace);\n      } else {\n        partialFlatMap[nextNamespace] = mapValue;\n      }\n    });\n    return partialFlatMap;\n  };\n});"],"mappings":"AAAA,SAASA,iBAAT,EAA4BC,qBAA5B,QAAyD,cAAzD;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,gBAAgB,UAAUC,SAAV,EAAqB;EACnC,OAAO,SAASC,OAAT,CAAiBC,GAAjB,EAAsBC,KAAtB,EAA6BC,cAA7B,EAA6CC,qBAA7C,EAAoE;IACzE,IAAIC,IAAI,GAAGH,KAAK,KAAK,KAAK,CAAf,GAAmB,EAAnB,GAAwBA,KAAnC;IAAA,IACII,cAAc,GAAGD,IAAI,CAACE,SAD1B;IAAA,IAEIA,SAAS,GAAGD,cAAc,KAAK,KAAK,CAAxB,GAA4BX,iBAA5B,GAAgDW,cAFhE;IAAA,IAGIE,MAAM,GAAGH,IAAI,CAACG,MAHlB;;IAKA,IAAIL,cAAc,KAAK,KAAK,CAA5B,EAA+B;MAC7BA,cAAc,GAAG,EAAjB;IACD;;IAED,IAAIC,qBAAqB,KAAK,KAAK,CAAnC,EAAsC;MACpCA,qBAAqB,GAAG,EAAxB;IACD;;IAED,SAASK,gBAAT,CAA0BC,IAA1B,EAAgC;MAC9B,IAAIC,KAAJ;;MAEA,IAAI,CAACP,qBAAL,EAA4B,OAAOM,IAAP;MAC5B,IAAIE,KAAK,GAAGF,IAAI,CAACG,QAAL,GAAgBC,KAAhB,CAAsBlB,qBAAtB,CAAZ;MACA,IAAImB,QAAQ,GAAGX,qBAAqB,CAACU,KAAtB,CAA4BlB,qBAA5B,CAAf;MACA,OAAO,CAACe,KAAK,GAAG,EAAT,EAAaK,MAAb,CAAoBC,KAApB,CAA0BN,KAA1B,EAAiCI,QAAQ,CAACd,GAAT,CAAa,UAAUiB,CAAV,EAAa;QAChE,OAAON,KAAK,CAACX,GAAN,CAAU,UAAUkB,CAAV,EAAa;UAC5B,OAAO,KAAKD,CAAL,GAASX,SAAT,GAAqBY,CAA5B;QACD,CAFM,CAAP;MAGD,CAJuC,CAAjC,EAIHC,IAJG,CAIExB,qBAJF,CAAP;IAKD;;IAED,SAASyB,aAAT,CAAuBX,IAAvB,EAA6B;MAC3B,IAAIN,qBAAqB,IAAI,CAACI,MAA1B,IAAoCA,MAAM,IAAI,IAAIc,MAAJ,CAAW,MAAMd,MAAN,GAAeD,SAA1B,EAAqCgB,IAArC,CAA0Cb,IAA1C,CAAlD,EAAmG;QACjG,OAAOA,IAAP;MACD;;MAED,OAAO,KAAKF,MAAL,GAAcD,SAAd,GAA0BG,IAAjC;IACD;;IAEDb,OAAO,CAACI,GAAD,CAAP,CAAauB,OAAb,CAAqB,UAAUd,IAAV,EAAgB;MACnC,IAAIe,aAAa,GAAGJ,aAAa,CAACZ,gBAAgB,CAACC,IAAD,CAAjB,CAAjC;MACA,IAAIgB,QAAQ,GAAG5B,GAAG,CAACY,IAAD,EAAOT,GAAP,CAAlB;;MAEA,IAAIF,SAAS,CAAC2B,QAAD,CAAb,EAAyB;QACvB1B,OAAO,CAAC0B,QAAD,EAAW;UAChBnB,SAAS,EAAEA,SADK;UAEhBC,MAAM,EAAEA;QAFQ,CAAX,EAGJL,cAHI,EAGYsB,aAHZ,CAAP;MAID,CALD,MAKO;QACLtB,cAAc,CAACsB,aAAD,CAAd,GAAgCC,QAAhC;MACD;IACF,CAZD;IAaA,OAAOvB,cAAP;EACD,CAjDD;AAkDD,CAnDD"},"metadata":{},"sourceType":"module"}